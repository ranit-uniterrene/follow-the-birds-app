<!--
  Generated template for the GroupsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	<ion-navbar color="primary">
		<ion-title> Groups </ion-title>
		<ion-buttons right>
		  <button ion-button icon-only (click)="createGroup()"><ion-icon name="add-circle"></ion-icon></button>
		</ion-buttons>
	</ion-navbar>
	<ion-segment [(ngModel)]="groupzone">
	  <ion-segment-button value="discover">
		Discover 
	  </ion-segment-button>
	  <ion-segment-button value="joined">
		Joined
	  </ion-segment-button>
	  <ion-segment-button value="manage">
		My groups
	  </ion-segment-button>	  
  </ion-segment>
</ion-header>


<ion-content>
<div [ngSwitch]="groupzone">
	<ion-grid *ngSwitchCase="'discover'">
	  <ion-row >
		<ion-col class="group_wrap" col-4 *ngFor="let group of groupLists.suggested" >
			<div class="image-circle" >
				<img [src]="imageURL+group.group_cover" onError="this.src='assets/followthebirdImgs/no-profile-img.jpeg'" (click)="viewGroup(group)" /> 
			</div>
			<div style="text-align: center;" (click)="viewGroup(group)"> {{group.group_title}}</div>
			<button ion-button item-end outline (tap)="joinGroupAction($event,'group-join',group.group_id)"> Join </button>
		</ion-col>
	  </ion-row>
	</ion-grid>
	<ion-list *ngSwitchCase="'joined'">
		<ion-item *ngFor="let group of groupLists.joined" >
			<ion-thumbnail item-start class="image-circle" (click)="viewGroup(group)">
			  <img [src]="imageURL+group.group_cover" onError="this.src='assets/followthebirdImgs/no-profile-img.jpeg'" (click)="viewEvent(event)" /> 
			</ion-thumbnail>
			<h2 (click)="viewGroup(group)">{{group.group_title}}</h2>
			<p>{{group.group_members}} Members</p>
			<button ion-button item-end outline (tap)="leavegroupAction($event,'group-leave',group.group_id)"> Leave </button>
		</ion-item>
	</ion-list>
	<ion-list *ngSwitchCase="'manage'">
		<ion-item *ngFor="let group of groupLists.manage" >
			<ion-thumbnail item-start class="image-circle" (click)="viewGroup(group)">
			  <img [src]="imageURL+group.group_cover" onError="this.src='assets/followthebirdImgs/no-profile-img.jpeg'" (click)="viewEvent(event)" /> 
			</ion-thumbnail>
			<h2 (click)="viewGroup(group)">{{group.group_title}}</h2>
			<p>{{group.group_members}} Members</p>
			<button ion-button icon-only item-end clear><ion-icon name='more'></ion-icon></button>
		</ion-item>
	</ion-list>
	
</div>
</ion-content>
